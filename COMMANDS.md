# Ranked Bedwars 指令文档

## 玩家指令

### =info / =i

**描述**: 查看玩家的统计数据。
**用法**: `=info [@User]` 或 `=i [@User]`
**参数**:
- `@User`: 要查看的用户（可选，默认为自己）
**权限**: 无特殊权限要求
**说明**: 显示玩家的ELO、胜场、败场、击杀、死亡、破坏床数、丢失床数、胜率、击杀率等统计数据。

### =pick / =p

**描述**: 队长选择队友。
**用法**: `=pick @User`
**参数**:
- `@User`: 要选择的用户
**权限**: 需要是队长才能执行此命令
**说明**: 在队列中，队长可以使用此命令选择剩余的玩家加入他们的队伍。

### =help

**描述**: 显示所有可用命令的帮助菜单。
**用法**: `=help`
**参数**: 无
**权限**: 无特殊权限要求
**说明**: 显示交互式帮助菜单，包含所有命令的分类和说明。

### =qs / =queuestats

**描述**: 显示当前队列中所有玩家的统计数据。
**用法**: `=qs` 或 `=queuestats`
**参数**: 无
**权限**: 无特殊权限要求
**说明**: 显示当前队列中所有玩家的胜场、败场、KD比和连胜等信息。

### =leaderboard / =lb

**描述**: 查看排行榜。
**用法**: `=leaderboard [type] [page]` 或 `=lb [type] [page]`
**参数**:
- `type`: 排行榜类型（elo, games, wins, losses, wl, kills, deaths, kd, winstreak, losestreak, bedsbroken, bedslost, bblr）
- `page`: 页码（可选，默认为1）
**权限**: 无特殊权限要求
**说明**: 显示指定类型的排行榜，支持多种统计数据类型。

### =setbackground

**描述**: 设置信息卡片的背景。
**用法**: `=setbackground @User/User_ID <PNG>`
**参数**:
- `@User/User_ID`: 目标用户或用户ID
- `<PNG>`: 图片URL或"defalut"恢复默认
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 允许管理员为用户设置信息卡片的背景图片。

### =settext

**描述**: 设置信息卡片的文本。
**用法**: `=settext @User/User_ID <text>`
**参数**:
- `@User/User_ID`: 目标用户或用户ID
- `<text>`: 要设置的文本内容
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 允许管理员为用户设置信息卡片的文本内容。

### =setemoji

**描述**: 设置信息卡片的表情符号。
**用法**: `=setemoji @User/User_ID <emoji>`
**参数**:
- `@User/User_ID`: 目标用户或用户ID
- `<emoji>`: 要设置的表情符号
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 允许管理员为用户设置信息卡片的表情符号。

## 管理员指令

### =modify

**描述**: 修改玩家的统计数据。
**用法**: `=modify [stat] @User/User_ID ±[number]`
**参数**:
- `stat`: 要修改的统计数据类型（wins, losses, kills, deaths, bedsbroken, bedslost, winstreak, bedstreak）
- `@User/User_ID`: 目标用户或用户ID
- `±[number]`: 要增加或减少的数量
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 批量修改玩家的统计数据，支持多种统计类型。

### =win / =w

**描述**: 手动记录玩家胜利。
**用法**: `=win @User/User_ID` 或 `=w @User/User_ID`
**参数**:
- `@User/User_ID`: 获胜的用户或用户ID
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 手动为玩家记录一场胜利，ELO值会相应增加25分。

### =loss / =l

**描述**: 手动记录玩家失败。
**用法**: `=loss @User/User_ID` 或 `=l @User/User_ID`
**参数**:
- `@User/User_ID`: 失败的用户或用户ID
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 手动为玩家记录一场失败，ELO值会相应减少25分。

### =pmodify

**描述**: 手动修改玩家的ELO值。
**用法**: `=pmodify @User/User_ID ±[number]`
**参数**:
- `@User/User_ID`: 目标用户或用户ID
- `±[number]`: 要增加或减少的ELO值
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 直接修改玩家的ELO值，会自动更新玩家的角色。

### =strike

**描述**: 给玩家添加或移除惩罚。
**用法**: `=strike @User/User_ID ±[number] [reason]`
**参数**:
- `@User/User_ID`: 目标用户或用户ID
- `±[number]`: 要增加或减少的惩罚数
- `[reason]`: 惩罚原因（可选）
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 当玩家被惩罚时，会自动调整其ELO值。当惩罚数达到2次时，会自动封禁玩家。

### =unstrike

**描述**: 移除玩家的惩罚。
**用法**: `=unstrike @User/User_ID [number]`
**参数**:
- `@User/User_ID`: 目标用户或用户ID
- `[number]`: 要移除的惩罚数（可选，默认为1）
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 移除玩家的惩罚，会自动调整其ELO值。

### =ban

**描述**: 封禁玩家。
**用法**: `=ban @User/User_ID x(h)/(d) [Reason]`
**参数**:
- `@User/User_ID`: 要封禁的用户或用户ID
- `x(h)/(d)`: 封禁时长（xh表示x小时，xd表示x天）
- `[Reason]`: 封禁原因（可选）
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 临时封禁玩家，会移除其当前角色并添加封禁角色。

### =unban

**描述**: 解封玩家。
**用法**: `=unban @User/User_ID`
**参数**:
- `@User/User_ID`: 要解封的用户或用户ID
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 解封玩家，会恢复其封禁前的角色。

### =fclose / =forceclose

**描述**: 强制关闭队列。
**用法**: `=fclose` 或 `=forceclose`
**参数**: 无
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 强制关闭当前队列，清理相关游戏状态。

### =void

**描述**: 作废一场游戏的结果，会回滚所有参与玩家的数据。
**用法**: `=void [game_id]`
**参数**:
- `game_id`: 要作废的游戏ID
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 此命令用于当一场比赛出现争议或其他问题时，完全撤销比赛结果并对所有玩家的数据进行回滚。

## 其他指令

### .ss (Freeze)

**描述**: 发送屏幕共享请求给团队成员。
**用法**: `.ss [@User/User_ID] [Reason]`
**参数**:
- `@User/User_ID`: 要请求屏幕共享的用户
- `[Reason]`: 请求屏幕共享的原因（可选）
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 此命令用于当怀疑某个玩家作弊时，向团队成员发送屏幕共享请求以进行进一步调查。

### =streakmessage

**描述**: 设置玩家在特定连胜数时显示的消息。
**用法**: `=streakmessage @User <streak> <message>`
**参数**:
- `@User`: 目标用户
- `streak`: 连胜数（必须是5、8或10）
- `message`: 要显示的消息
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 此命令允许管理员自定义玩家达到特定连胜数时显示的消息。

### =winmessage

**描述**: 设置玩家获胜时显示的消息。
**用法**: `=winmessage @User <message>`
**参数**:
- `@User`: 目标用户
- `message`: 获胜时要显示的消息
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 此命令允许管理员自定义玩家获胜时显示的消息。

### =losemessage

**描述**: 设置玩家失败时显示的消息。
**用法**: `=losemessage @User <message>`
**参数**:
- `@User`: 目标用户
- `message`: 失败时要显示的消息
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 此命令允许管理员自定义玩家失败时显示的消息。

### =restart

**描述**: 重启机器人。
**用法**: `=restart @IGN`
**参数**:
- `@IGN`: 游戏中的用户名
**权限**: 需要具有特定权限的角色才能执行此命令
**说明**: 此命令用于重启机器人服务。

### =getuser

**描述**: 查看用户的惩罚记录。
**用法**: `=getuser @User/User_ID`
**参数**:
- `@User/User_ID`: 目标用户或用户ID
**权限**: 无特殊权限要求
**说明**: 此命令用于查看指定用户的惩罚记录和封禁状态，也可以用来查看自己的信息。

## 特殊功能指令

### 昵称违规检测

**描述**: 自动检测玩家昵称是否符合规定。
**功能**: 
- 自动检查玩家加入服务器时的昵称
- 检测违规昵称并自动进行惩罚
- 记录违规行为并通知管理员

### 自动记点系统

**描述**: 自动记录玩家的游戏数据。
**功能**:
- 自动检测游戏开始和结束
- 记录玩家的胜负、击杀、死亡、破坏床数等数据
- 根据游戏结果自动调整玩家ELO值
- 处理玩家在游戏中的违规行为